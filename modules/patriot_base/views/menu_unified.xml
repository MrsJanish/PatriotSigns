<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- 
        UNIFIED PATRIOT SIGNS MENU
        Assembly-line workflow: Bid â†’ Estimate â†’ Project â†’ Submit â†’ Produce â†’ Install â†’ Bill
        
        Created: 2024-12-24
        Purpose: ONE linear workflow matching Tiffany's actual process
    -->

    <!-- ========================================================================= -->
    <!-- ROOT MENU - PATRIOT SIGNS                                                 -->
    <!-- ========================================================================= -->
    <menuitem id="menu_patriot_root"
              name="Patriot Signs"
              web_icon="patriot_base,static/description/icon.png"
              sequence="5"/>

    <!-- ========================================================================= -->
    <!-- 1. BID OPPORTUNITIES (ðŸ“§)                                                  -->
    <!-- Where Tiffany starts - ITB comes in, review docs, create sign schedule    -->
    <!-- ========================================================================= -->
    <menuitem id="menu_bid_opportunities"
              name="ðŸ“§ Bid Opportunities"
              parent="menu_patriot_root"
              sequence="10"/>

    <!-- Pipeline (Kanban) - Default view -->
    <record id="action_opportunities_pipeline" model="ir.actions.act_window">
        <field name="name">Opportunities Pipeline</field>
        <field name="res_model">crm.lead</field>
        <field name="view_mode">kanban,list,form</field>
        <field name="domain">[('type', '=', 'opportunity')]</field>
        <field name="context">{'default_type': 'opportunity'}</field>
    </record>
    <menuitem id="menu_opportunities_pipeline"
              name="Pipeline"
              parent="menu_bid_opportunities"
              action="action_opportunities_pipeline"
              sequence="10"/>

    <!-- Upcoming Bids -->
    <record id="action_upcoming_bids" model="ir.actions.act_window">
        <field name="name">Upcoming Bids</field>
        <field name="res_model">crm.lead</field>
        <field name="view_mode">list,kanban,form</field>
        <field name="domain">[('bid_date', '!=', False), ('bid_date', '&gt;=', context_today().strftime('%Y-%m-%d'))]</field>
        <field name="context">{'default_type': 'opportunity'}</field>
    </record>
    <menuitem id="menu_upcoming_bids"
              name="Upcoming Bids"
              parent="menu_bid_opportunities"
              action="action_upcoming_bids"
              sequence="20"/>

    <!-- CC Dashboard (visual project cards) -->
    <record id="action_cc_dashboard" model="ir.actions.client">
        <field name="name">Project Dashboard</field>
        <field name="tag">cc_ops_dashboard</field>
    </record>
    <menuitem id="menu_cc_dashboard"
              name="Dashboard"
              parent="menu_bid_opportunities"
              action="action_cc_dashboard"
              sequence="30"/>

    <!-- ========================================================================= -->
    <!-- 2. ESTIMATING (ðŸ“Š)                                                         -->
    <!-- Sign types, dimensions, create the estimate                               -->
    <!-- ========================================================================= -->
    <menuitem id="menu_estimating"
              name="ðŸ“Š Estimating"
              parent="menu_patriot_root"
              sequence="20"/>

    <!-- Sign Types by Project -->
    <record id="action_sign_types" model="ir.actions.act_window">
        <field name="name">Sign Types</field>
        <field name="res_model">ps.sign.type</field>
        <field name="view_mode">list,form</field>
        <field name="context">{'group_by': 'opportunity_id'}</field>
    </record>
    <menuitem id="menu_sign_types"
              name="Sign Types"
              parent="menu_estimating"
              action="action_sign_types"
              sequence="10"/>

    <!-- Estimates -->
    <record id="action_estimates" model="ir.actions.act_window">
        <field name="name">Estimates</field>
        <field name="res_model">ps.estimate</field>
        <field name="view_mode">list,form</field>
    </record>
    <menuitem id="menu_estimates"
              name="Estimates"
              parent="menu_estimating"
              action="action_estimates"
              sequence="20"/>

    <!-- Sign Type Templates -->
    <record id="action_sign_templates" model="ir.actions.act_window">
        <field name="name">Sign Templates</field>
        <field name="res_model">ps.sign.type.template</field>
        <field name="view_mode">list,form</field>
    </record>
    <menuitem id="menu_sign_templates"
              name="Templates"
              parent="menu_estimating"
              action="action_sign_templates"
              sequence="30"/>

    <!-- ========================================================================= -->
    <!-- 3. WON PROJECTS (âœ…)                                                       -->
    <!-- Projects that have been awarded - contract stage                          -->
    <!-- ========================================================================= -->
    <menuitem id="menu_won_projects"
              name="âœ… Won Projects"
              parent="menu_patriot_root"
              sequence="30"/>

    <!-- Active Projects -->
    <record id="action_active_projects" model="ir.actions.act_window">
        <field name="name">Active Projects</field>
        <field name="res_model">project.project</field>
        <field name="view_mode">kanban,list,form</field>
        <field name="domain">[('active', '=', True)]</field>
    </record>
    <menuitem id="menu_active_projects"
              name="Active Projects"
              parent="menu_won_projects"
              action="action_active_projects"
              sequence="10"/>

    <!-- ========================================================================= -->
    <!-- 4. SUBMITTALS (ðŸ“)                                                         -->
    <!-- Shop drawings, RFIs, approval workflow                                    -->
    <!-- ========================================================================= -->
    <menuitem id="menu_submittals"
              name="ðŸ“ Submittals"
              parent="menu_patriot_root"
              sequence="40"/>

    <!-- Shop Drawings -->
    <record id="action_submittals" model="ir.actions.act_window">
        <field name="name">Shop Drawings</field>
        <field name="res_model">ps.submittal</field>
        <field name="view_mode">list,form</field>
    </record>
    <menuitem id="menu_shop_drawings"
              name="Shop Drawings"
              parent="menu_submittals"
              action="action_submittals"
              sequence="10"/>

    <!-- RFIs -->
    <record id="action_rfis" model="ir.actions.act_window">
        <field name="name">RFIs</field>
        <field name="res_model">ps.rfi</field>
        <field name="view_mode">list,form</field>
    </record>
    <menuitem id="menu_rfis"
              name="RFIs"
              parent="menu_submittals"
              action="action_rfis"
              sequence="20"/>

    <!-- ========================================================================= -->
    <!-- 5. PRODUCTION (ðŸ­)                                                         -->
    <!-- Manufacturing orders, work centers                                        -->
    <!-- ========================================================================= -->
    <menuitem id="menu_production"
              name="ðŸ­ Production"
              parent="menu_patriot_root"
              sequence="50"/>

    <!-- Production Orders -->
    <record id="action_production_orders" model="ir.actions.act_window">
        <field name="name">Production Orders</field>
        <field name="res_model">ps.production.order</field>
        <field name="view_mode">list,form</field>
    </record>
    <menuitem id="menu_production_orders"
              name="Production Orders"
              parent="menu_production"
              action="action_production_orders"
              sequence="10"/>

    <!-- ========================================================================= -->
    <!-- 6. INSTALLATION (ðŸ”§)                                                       -->
    <!-- Crew scheduling, field work                                               -->
    <!-- ========================================================================= -->
    <menuitem id="menu_installation"
              name="ðŸ”§ Installation"
              parent="menu_patriot_root"
              sequence="60"/>

    <!-- Scheduled Installations -->
    <record id="action_installations" model="ir.actions.act_window">
        <field name="name">Installations</field>
        <field name="res_model">ps.installation</field>
        <field name="view_mode">list,calendar,form</field>
    </record>
    <menuitem id="menu_installations"
              name="Scheduled"
              parent="menu_installation"
              action="action_installations"
              sequence="10"/>

    <!-- Crews -->
    <record id="action_crews" model="ir.actions.act_window">
        <field name="name">Crews</field>
        <field name="res_model">ps.crew</field>
        <field name="view_mode">list,form</field>
    </record>
    <menuitem id="menu_crews"
              name="Crews"
              parent="menu_installation"
              action="action_crews"
              sequence="20"/>

    <!-- ========================================================================= -->
    <!-- 7. BILLING (ðŸ’°)                                                            -->
    <!-- Pay applications, SOV, invoicing                                          -->
    <!-- ========================================================================= -->
    <menuitem id="menu_billing"
              name="ðŸ’° Billing"
              parent="menu_patriot_root"
              sequence="70"/>

    <!-- Pay Applications -->
    <record id="action_pay_applications" model="ir.actions.act_window">
        <field name="name">Pay Applications</field>
        <field name="res_model">ps.pay.application</field>
        <field name="view_mode">list,form</field>
    </record>
    <menuitem id="menu_pay_applications"
              name="Pay Applications"
              parent="menu_billing"
              action="action_pay_applications"
              sequence="10"/>

    <!-- Schedule of Values -->
    <record id="action_sov" model="ir.actions.act_window">
        <field name="name">Schedule of Values</field>
        <field name="res_model">ps.sov</field>
        <field name="view_mode">list,form</field>
    </record>
    <menuitem id="menu_sov"
              name="Schedule of Values"
              parent="menu_billing"
              action="action_sov"
              sequence="20"/>

    <!-- ========================================================================= -->
    <!-- 8. CONFIGURATION (âš™ï¸)                                                      -->
    <!-- Reference tables, settings                                                -->
    <!-- ========================================================================= -->
    <menuitem id="menu_configuration"
              name="âš™ï¸ Configuration"
              parent="menu_patriot_root"
              groups="base.group_system"
              sequence="90"/>

    <!-- Sign Categories -->
    <menuitem id="menu_config_categories"
              name="Sign Categories"
              parent="menu_configuration"
              action="patriot_base.sign_category_action"
              sequence="10"/>

    <!-- Sign Subtypes -->
    <menuitem id="menu_config_subtypes"
              name="Sign Subtypes"
              parent="menu_configuration"
              action="patriot_base.sign_subtype_action"
              sequence="20"/>

    <!-- Dimensions -->
    <menuitem id="menu_config_dimensions"
              name="Dimensions"
              parent="menu_configuration"
              action="patriot_base.sign_dimension_action"
              sequence="30"/>

    <!-- Employees (link to HR) -->
    <record id="action_employees" model="ir.actions.act_window">
        <field name="name">Employees</field>
        <field name="res_model">hr.employee</field>
        <field name="view_mode">kanban,list,form</field>
    </record>
    <menuitem id="menu_config_employees"
              name="Employees"
              parent="menu_configuration"
              action="action_employees"
              sequence="40"/>

</odoo>
